function OnAjaxBegin(n){$(n).prop("disabled",!0);$(n).find("i").removeClass("hide")}function OnAjaxComplete(n){$(n).prop("disabled",!1);$(n).find("i").addClass("hide")}function showLoading(){$("#loading,#loadingbar").show()}function hideLoading(){$("#loading,#loadingbar").hide()}function Select2Portal(n){$("#"+n+"").select2()}function showToastPortal(n,t,i,r){$.toaster({priority:n,title:t,message:i,timeout:r})}function GetPackageDetailByCurrency(n){$.ajax({url:siteURL+"Home/GetPackageDetailByCurrency",type:"POST",data:{CurrencyISOCode:n},success:function(n){$("#purchasePackageDiv").html(n)}})}function SubCategory(n,t,i,r){$.ajax({url:siteURL+"category/"+t,type:"GET",data:{CategorySEOUrl:t,Type:r},success:function(n){$("#subCategoryModalBody").html(n)},error:function(n,t,i){typeof console=="object"&&console.log(n.status+","+n.responseText+","+t+","+i)}});$(".modal-header #ParentCategoryId").val(n);$(".modal-header #subCategoryModalTitle").html(i);$("#subCategoryModal").modal("show");$("#subCategoryModal").modal({backdrop:"static",keyboard:!1,show:"true"})}function SetActiveFilterPanel(){var s=0,h="",t,i,r,u,f,e,n,c,o,v,y,p,l;h+='<div class="applied-filters">  <ul class="applied-filters__list">';h+='<li class="applied-filters__item"><div>Design By Search:<\/div ><\/li>';t="";t='<div class="applied-filters">  <ul class="applied-filters__list">';t+='<li class="applied-filters__item"><div>Design By Category:<\/div ><\/li>';i="";i='<div class="applied-filters">  <ul class="applied-filters__list">';i+='<li class="applied-filters__item"><div>Number Of Stitch:<\/div ><\/li>';r="";r='<div class="applied-filters">  <ul class="applied-filters__list">';r+='<li class="applied-filters__item"><div>Area:<\/div ><\/li>';u="";u='<div class="applied-filters">  <ul class="applied-filters__list">';u+='<li class="applied-filters__item"><div>Number Of Niddle/Color:<\/div ><\/li>';f="";f='<div class="applied-filters">  <ul class="applied-filters__list">';f+='<li class="applied-filters__item"><div>Height:<\/div ><\/li>';e="";e='<div class="applied-filters">  <ul class="applied-filters__list">';e+='<li class="applied-filters__item"><div>Width:<\/div ><\/li>';n="";n='<div class="applied-filters">  <ul class="applied-filters__list">';n+='<li class="applied-filters__item"><div>Favorite Between: <\/div><\/li>';c="";o="";o='<div class="applied-filters">  <ul class="applied-filters__list"><li class="applied-filters__item"><div>Download Between: <\/div><\/li>';var a="",w=$("#searchDesign").map(function(){return h+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter">
            `+$(this).val()+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('designBySearch',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,$(this).val()}).get().join(","),b=$("#startDate").map(function(){return n+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter">
            `+$(this).val()+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('favoriteFrom',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,$(this).val()}).get().join(",");$("#endDate").val()!=""&&(v=$("#endDate").map(function(){return c=n+="<div>To:<\/div>"+`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter">
            `+$(this).val()+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('favoriteTo',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,$(this).val()}).get().join(","));y=$("#startDateDownload").map(function(){return o+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter">
            `+$(this).val()+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('downloadFrom',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,$(this).val()}).get().join(",");$("#endDateDownload").val()!=""&&(p=$("#endDateDownload").map(function(){return a=o+="<div>To:<\/div>"+`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter">
            `+$(this).val()+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('downloadTo',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,$(this).val()}).get().join(","));var k=$("#chkDesignByCategory:checked").map(function(){return t+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter">
            `+$(this).data("title")+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('filterSubCategory',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,s++,$(this).data("title")}).get().join(","),d=$("#chkStitch:checked").map(function(){return i+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter" >
            `+$(this).data("title")+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('stitch',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,s++,$(this).data("title")}).get().join(","),g=$("#chkArea:checked").map(function(){return r+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter" >
            `+$(this).data("title")+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('area',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,s++,$(this).data("title")}).get().join(","),nt=$("#chkNiddle:checked").map(function(){return u+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter" >
            `+$(this).data("title")+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('niddle',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,s++,$(this).data("title")}).get().join(","),tt=$("#chkHeight:checked").map(function(){return f+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter" >
            `+$(this).data("title")+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('height',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,s++,$(this).data("title")}).get().join(","),it=$("#chkWidth:checked").map(function(){return e+=`<li class="applied-filters__item">
            <a class="applied-filters__button applied-filters__button--filter" >
            `+$(this).data("title")+`
            <svg width="9" height="9" style="cursor:pointer;" onclick="javascript:ClearOneFilter('width',`+$(this).val()+`)">
            <path d="M9,8.5L8.5,9l-4-4l-4,4L0,8.5l4-4l-4-4L0.5,0l4,4l4-4L9,0.5l-4,4L9,8.5z" />
            </svg>
            </a>
            </li>`,s++,$(this).data("title")}).get().join(",");h+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('designBySearch')" class="applied-filters__button applied-filters__button--clear">Clear All Design by Search</button></li>`;h+="<\/ul><\/div>";n+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('favoriteFrom')" class="applied-filters__button applied-filters__button--clear">Clear All Design by FavouritedOn</button></li>`;n+="<\/ul><\/div>";o+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('downloadFrom')" class="applied-filters__button applied-filters__button--clear">Clear All Design by DownloadedOn</button></li>`;o+="<\/ul><\/div>";t+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('filterSubCategory')" class="applied-filters__button applied-filters__button--clear">Clear All Design by Category</button></li>`;t+="<\/ul><\/div>";i+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('stitch')" class="applied-filters__button applied-filters__button--clear">Clear All Stitch</button></li>`;i+="<\/ul><\/div>";r+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('area')" class="applied-filters__button applied-filters__button--clear">Clear All Area</button></li>`;r+="<\/ul><\/div>";u+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('niddle')" class="applied-filters__button applied-filters__button--clear">Clear All Niddle/color</button></li>`;u+="<\/ul><\/div>";f+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('height')" class="applied-filters__button applied-filters__button--clear">Clear All Height</button></li>`;f+="<\/ul><\/div>";e+=`<li class="applied-filters__item"><button type="button" onclick="javascript:ClearAllFilter('width')" class="applied-filters__button applied-filters__button--clear">Clear All Width</button></li>`;e+="<\/ul><\/div>";w==""&&(h="",$("#divActiveFilters").html());b==""&&(n="",$("#divActiveFilters").html());v==""&&(c="",$("#divActiveFilters").html());y==""&&(o="",$("#divActiveFilters").html());p==""&&(a="",$("#divActiveFilters").html());k==""&&(t="",$("#divActiveFilters").html());d==""&&(i="",$("#divActiveFilters").html());g==""&&(r="",$("#divActiveFilters").html());nt==""&&(u="",$("#divActiveFilters").html());tt==""&&(f="",$("#divActiveFilters").html());it==""&&(e="",$("#divActiveFilters").html());l=h+n+o+t+i+r+u+f+e;l!=""?$("#mainDivActiveFilter").css("display","block"):$("#mainDivActiveFilter").css("display","none");const rt=window.matchMedia("(max-width : 992px)");rt.matches&&$("#mainDivActiveFilter").css("display","block");$("#divActiveFilters").siblings().remove();$("#divActiveFilters").parent().append(l);$("#activeFilterCount").html(s)}function SetPagination(n,t){(parseInt(t)==0||t==undefined)&&(t=1);$("#pagination").pagination({total:parseInt(n),pageSize:pSize,showPageList:!1,showRefresh:!1,loading:!1,pageNumber:t,onSelectPage:function(n,t){GetDesigns(displayStart,t,n)},onChangePageSize:function(){},onBeforeRefresh:function(){},onRefresh:function(){},onValidate:function(){return!0}})}function GetDesigns(n,t,i){SetActiveFilterPanel();var r={FilterSubCategoryId:$("#chkDesignByCategory:checked").map(function(){return this.value}).get().join(","),StitchId:$("#chkStitch:checked").map(function(){return this.value}).get().join(","),AreaId:$("#chkArea:checked").map(function(){return this.value}).get().join(","),NiddleId:$("#chkNiddle:checked").map(function(){return this.value}).get().join(","),HeightId:$("#chkHeight:checked").map(function(){return this.value}).get().join(","),WidthId:$("#chkWidth:checked").map(function(){return this.value}).get().join(","),SEOUrl:$("#SEOUrl").val(),PSEOUrl:$("#PSEOUrl").val(),SSEOUrl:$("#SSEOUrl").val(),Search:$("#searchDesign").val(),StartDate:$("#startDate").val(),EndDate:$("#endDate").val(),IsFavourite:$("#IsFavourite").val(),IsDownload:$("#IsDownload").val(),DisplayStart:n,PageSize:t,PageNumber:i,PackageId:$("#PackageId:checked").map(function(){return this.value}).get().join(",")};$.ajax({type:"POST",data:r,url:siteURL+"Home/GetDesignList"}).done(function(n){$("#designList").html(n);$(document).scrollTop(0);var t=$("#NoOfDesignCount").val();SetPagination(t,i)}).fail(function(){alert("No design found")})}function ClearOneFilter(n,t){switch(n){case"designBySearch":$("#searchDesign").val("");break;case"favoriteFrom":$("#startDate").val("");break;case"favoriteTo":$("#endDate").val("");break;case"downloadFrom":$("#startDateDownload").val("");$("#endDateDownload").val("");break;case"downloadTo":$("#endDateDownload").val("");break;case"filterSubCategory":$("#chkDesignByCategory[value='"+t+"']").prop("checked",!1);break;case"stitch":$("#chkStitch[value='"+t+"']").prop("checked",!1);break;case"area":$("#chkArea[value='"+t+"']").prop("checked",!1);break;case"niddle":$("#chkNiddle[value='"+t+"']").prop("checked",!1);break;case"height":$("#chkHeight[value='"+t+"']").prop("checked",!1);break;case"width":$("#chkWidth[value='"+t+"']").prop("checked",!1)}GetDesigns();const i=window.matchMedia("(max-width : 992px)");i.matches&&$("#mainDivActiveFilter").css("display","block")}function ClearAllFilter(n){switch(n){case"designBySearch":$("#searchDesign").val("");break;case"favoriteFrom":$("#startDate").val("");$("#endDate").val("");break;case"downloadFrom":$("#startDateDownload").val("");$("#endDateDownload").val("");break;case"filterSubCategory":$("#chkDesignByCategory:checked").prop("checked",!1);break;case"stitch":$("#chkStitch:checked").prop("checked",!1);break;case"area":$("#chkArea:checked").prop("checked",!1);break;case"niddle":$("#chkNiddle:checked").prop("checked",!1);break;case"height":$("#chkHeight:checked").prop("checked",!1);break;case"width":$("#chkWidth:checked").prop("checked",!1)}GetDesigns();const t=window.matchMedia("(max-width : 992px)");t.matches&&$("#mainDivActiveFilter").css("display","block")}function AddOrRemoveFavourite(n){if($("#userid").val()==null)showToastPortal("danger","",MessagePortal.LoginForFavourite.replace("##siteUrl##",siteURL),6e4);else{$("#favouriteIcon[value='"+n+"']").hasClass("favouriteIconChecked")?($("#favouriteIcon[value='"+n+"']").removeClass("favouriteIconChecked"),$("#IsAddFavourite").val(0)):($("#favouriteIcon[value='"+n+"']").addClass("favouriteIconChecked"),$("#IsAddFavourite").val(1));$("#DesignId").val(n);var t={DesignId:$("#DesignId").val(),IsAddFavourite:$("#IsAddFavourite").val()};$.ajax({type:"POST",data:t,url:siteURL+"Secure/AddOrRemoveFavourite"}).done(function(n){n.isFavourite.IsAddFavourite==1?showToastPortal("success","",MessagePortal.AddFavourite,3e3):showToastPortal("success","",MessagePortal.RemoveFavourite,3e3)}).fail(function(){showToastPortal("danger","","please try again")})}}function formatCountry(n){var i;if(!n.id)return n.text;var t=n.text.split(",")[0].trim(),r=n.text.split(",")[1],u=n.text.split(",")[2];return t!=null&&t!=undefined&&t!="null"&&(i=$('<span class="fi fi-'+t.toLowerCase()+' fis"><\/span><span class="flag-text"><b>  '+u+"<\/b> +"+r+"<\/span>")),i}function formatSelectionType(n){var i;if(!n.id)return n.text;var t=n.text.split(",")[0].trim(),r=n.text.split(",")[1],u=n.text.split(",")[2];return t!=null&&t!=undefined&&t!="null"&&(i=$('<span class="fi fi-'+t.toLowerCase()+' fis"><\/span><span class="flag-text">   +'+r+"<\/span>")),i}function ResendOTP(n){$.ajax({url:siteURL+"Home/ResendOTP",type:"POST",data:{model:n},cache:!1,success:function(n){showToastPortal(n.messagetype,"",n.message,5e3)}})}function DownloadDesignConfirm(n){$("#userid").val()==null?showToastPortal("danger","",MessagePortal.LoingForDownload.replace("##siteUrl##",siteURL),6e4):DownloadDesignConfirmCallback(n)}function DownloadDesignConfirmCallback(n){RequestDownloadFile(n)}function NoPackageFoundConfirmCallback(){callAnotherPage("packagelist.html")}function RequestDownloadFile(n){var t=$("#userid").val();$.ajax({url:siteURL+"Secure/DownloadDesign",type:"POST","async":!1,data:{DesignId:n,UserId:t},success:function(n){if(n)switch(n.downloadDesignResponse.RetStatus){case 0:showToastPortal("danger","",MessagePortal.DownloadDesignCase0,3e3);break;case 1:window.location.href=siteURL+"download-file";showToastPortal("success","",MessagePortal.DownloadDesignCase1,3e3);break;case 2:window.location.href=siteURL+"download-file";showToastPortal("success","",MessagePortal.DownloadDesignCase2,3e3);break;case 3:showToastPortal("danger","",MessagePortal.DownloadDesignCase3,3e3);break;case 4:showToastPortal("danger","",MessagePortal.DownloadDesignCase4,3e3);break;case 5:showToastPortal("danger","",MessagePortal.DownloadDesignCase5,3e3)}},error:function(){showToastPortal("danger","",MessagePortal.DownloadDesignFail,3e3)}})}function formatCurrencyIsoCode(n){var i;if(!n.id)return n.text;var t=n.text.split(",")[0].trim(),r=n.text.split(",")[1],u=n.text.split(",")[2];return t!=null&&t!=undefined&&t!="null"&&(i=$('<span class="fi fi-'+t+' fis"><\/span><span class="flag-text"><b>  '+t+"<\/span>")),i}function formatCurrencyIsoCodeSelectionType(n){var i;if(!n.id)return n.text;var t=n.text.split(",")[0].trim(),r=n.text.split(",")[1],u=n.text.split(",")[2];return t!=null&&t!=undefined&&t!="null"&&(i=$('<span class="fi fi-'+t+' fis"><\/span><span class="flag-text">'+t+"<\/span>")),i}function HeartIcon(){$("#userid").val()==null?showToastPortal("danger","",MessagePortal.LoginForHeartIconFavourite.replace("##siteUrl##",siteURL),6e4):window.location.href=siteURL+"favourite-design"}$(document).ajaxStart(function(){showLoading()});$(document).ajaxStop(function(){$.active<=1&&hideLoading();$('[data-toggle="tooltip"]').tooltip();$('[data-toggle="tooltip"]').on("mouseleave",function(){$(this).tooltip("hide")});$('[data-toggle="popover"]').popover();$('[data-toggle="popover"]').on("mouseleave",function(){$(this).popover("hide")})});var MessagePortal={UserLogin:"You are sucessfully logged-in.",UserLogout:"You are sucessfully logged-out.",UserLogoutFailed:"We are unable to logout! Please try again.",UserUpdate:"Your profile has been updated successfully.",UserUpdateFailed:"We are unable to update your profile! Please try again.",LoginForFavourite:"You first need to <a href='##siteUrl##login-register'>login<\/a>, to add it into your favourites",AddFavourite:"Design successfully added into your favourites.",RemoveFavourite:"Design successfully removed from your favourites.",LoingForDownload:"Please <a href='##siteUrl##login-register'>login/create<\/a> new account to download this design.",DownloadDesignCase0:"We are unable to process, please try after some times.",DownloadDesignCase1:"Design successfully downloaded",DownloadDesignCase2:"Design successfully downloaded",DownloadDesignCase3:"Your Package is expired or you have not bought any Package. Please click OK to buy our package.",DownloadDesignCase4:"You have logged in from another device, please login again to download.",DownloadDesignCase5:"You have reached the daily download limit.",DownloadDesignFail:"Opps! Something wents wrong, Please try after some time.",MessageSendSuccess:"Message send sucessfully.",MessageSendFailed:"Message send failed.",UserInfoUpdated:"User info updated successfully.",UserInfoDetialsFailed:"User info updated failed.",LoginForPurchase:"Please <a href='##siteUrl##login-register'>login/create<\/a> new account to purchase packages.",LoginForHeartIconFavourite:"Please <a href='##siteUrl##login-register'>login/register<\/a> into your account to view your Favourite designs."},pagenumber=0,noOfRecords,ptotal,pSize=20,displayStart=0;$(document).ready(function(){noOfRecords=$("#NoOfDesignCount").val();ptotal=noOfRecords;parseInt(pagenumber)==0&&(pagenumber=1);SetPagination(ptotal,pagenumber);$("#PaymentCurrencyId").select2({templateResult:formatCurrencyIsoCode,templateSelection:formatCurrencyIsoCodeSelectionType});$("#PaymentCurrencyId").change(function(){var n=$("#PaymentCurrencyId").val();GetPackageDetailByCurrency(n)});$("#searchDesign").val()!=null&&GetDesigns()});$(document).off("click","#divPurchasepackage").on("click","#divPurchasepackage",function(){if($("#userid").val()==null)return showToastPortal("danger","",MessagePortal.LoginForPurchase.replace("##siteUrl##",siteURL),5e3),!1});